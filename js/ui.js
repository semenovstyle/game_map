const _0x4af0ac=_0x1c02;(function(_0x13f4d9,_0x268e22){const _0xd6aa51=_0x1c02,_0x45e6dc=_0x13f4d9();while(!![]){try{const _0x2bddb0=parseInt(_0xd6aa51(0xf2))/0x1*(parseInt(_0xd6aa51(0x103))/0x2)+-parseInt(_0xd6aa51(0x107))/0x3+-parseInt(_0xd6aa51(0xda))/0x4*(parseInt(_0xd6aa51(0xd5))/0x5)+-parseInt(_0xd6aa51(0xfa))/0x6+-parseInt(_0xd6aa51(0xfb))/0x7*(-parseInt(_0xd6aa51(0xdd))/0x8)+-parseInt(_0xd6aa51(0x104))/0x9+parseInt(_0xd6aa51(0xfe))/0xa;if(_0x2bddb0===_0x268e22)break;else _0x45e6dc['push'](_0x45e6dc['shift']());}catch(_0x1dcf80){_0x45e6dc['push'](_0x45e6dc['shift']());}}}(_0x3ab1,0xf3e16));export const elements={'welcomeScreen':document[_0x4af0ac(0xf4)](_0x4af0ac(0xf6)),'welcomeTitle':document[_0x4af0ac(0xf4)](_0x4af0ac(0xce)),'welcomeText':document[_0x4af0ac(0xf4)](_0x4af0ac(0xea)),'enableSoundBtn':document[_0x4af0ac(0xf4)]('enable-sound-btn'),'questUi':document[_0x4af0ac(0xf4)](_0x4af0ac(0xdc)),'puzzleViewport':document[_0x4af0ac(0xf4)](_0x4af0ac(0xff)),'puzzleWrapper':document[_0x4af0ac(0xf4)](_0x4af0ac(0xe9)),'finalMapViewport':document[_0x4af0ac(0xf4)](_0x4af0ac(0xe6)),'finalMap':document[_0x4af0ac(0xf4)]('final-map'),'masks':document['querySelectorAll']('.puzzle-mask'),'progressIndicator':document[_0x4af0ac(0xf4)]('progress-indicator'),'scanBtn':document[_0x4af0ac(0xf4)](_0x4af0ac(0xd4)),'resetViewBtn':document[_0x4af0ac(0xf4)]('reset-view-btn'),'scannerOverlay':document[_0x4af0ac(0xf4)](_0x4af0ac(0xd0)),'qrReader':document[_0x4af0ac(0xf4)]('qr-reader'),'cancelScanBtn':document[_0x4af0ac(0xf4)](_0x4af0ac(0xe1)),'hintModal':document[_0x4af0ac(0xf4)]('hint-modal'),'hintText':document[_0x4af0ac(0xf4)]('hint-text'),'closeModalBtn':document[_0x4af0ac(0xf4)](_0x4af0ac(0xca)),'feedbackToast':document[_0x4af0ac(0xf4)](_0x4af0ac(0xd1)),'congratsModal':document['getElementById'](_0x4af0ac(0x101)),'congratsText':document['getElementById'](_0x4af0ac(0xd8)),'resetBtn':document['getElementById']('reset-btn'),'globalResetBtn':document[_0x4af0ac(0xf4)](_0x4af0ac(0xeb))};let puzzlePanzoom,finalMapPanzoom;export function setMapDimensions(_0x3fa1af,_0x31d24e){const _0x20513b=_0x4af0ac;_0x3fa1af&&_0x31d24e&&(elements[_0x20513b(0xed)][_0x20513b(0xfd)][_0x20513b(0xd2)]=_0x3fa1af+'px',elements[_0x20513b(0xed)][_0x20513b(0xfd)][_0x20513b(0xe4)]=_0x31d24e+'px',elements[_0x20513b(0xd6)][_0x20513b(0xfd)][_0x20513b(0xd2)]=_0x3fa1af+'px',elements[_0x20513b(0xd6)][_0x20513b(0xfd)][_0x20513b(0xe4)]=_0x31d24e+'px');}function animateView(_0x15bd82,_0x2603fc,_0x66d1dc,_0x4fe05e){const _0x216c6e=_0x4af0ac,_0x1386f9=_0x66d1dc[_0x216c6e(0xcb)](),_0x40629c=_0x2603fc[_0x216c6e(0xcb)]();if(0x0===_0x1386f9[_0x216c6e(0xd2)]||0x0===_0x40629c[_0x216c6e(0xd2)])return;const _0xe7f327=_0x216c6e(0xd2)===_0x4fe05e?_0x1386f9['width']/_0x40629c[_0x216c6e(0xd2)]:Math[_0x216c6e(0xf1)](_0x1386f9[_0x216c6e(0xd2)]/_0x40629c[_0x216c6e(0xd2)],_0x1386f9['height']/_0x40629c[_0x216c6e(0xe4)]);_0x15bd82[_0x216c6e(0xf0)](_0xe7f327,{'animate':!0x0,'duration':0x12c});}export function initPanzoom(_0x54f71b,_0x7de1ab){const _0x4ef441=_0x4af0ac,_0x3840d5=Panzoom(_0x54f71b,{'maxScale':0x4,'minScale':0.2,'canvas':!0x0});return setTimeout(()=>{const _0x301c5e=_0x1c02,_0x329a45=_0x7de1ab[_0x301c5e(0xcb)](),_0x433e37=_0x54f71b[_0x301c5e(0xcb)]();if(_0x329a45[_0x301c5e(0xd2)]>0x0&&_0x433e37['width']>0x0){const _0x40d7a2=Math[_0x301c5e(0xf1)](_0x329a45[_0x301c5e(0xd2)]/_0x433e37[_0x301c5e(0xd2)],_0x329a45[_0x301c5e(0xe4)]/_0x433e37[_0x301c5e(0xe4)]);_0x3840d5['zoom'](_0x40d7a2,{'animate':!0x1});}},0x32),_0x7de1ab[_0x4ef441(0xcc)][_0x4ef441(0xe0)](_0x4ef441(0x100),_0x3840d5[_0x4ef441(0xf3)]),_0x3840d5;}function _0x3ab1(){const _0x2dc793=['remove','addEventListener','cancel-scan-btn','scannerOverlay','welcomeScreen','height','textContent','final-map-viewport','puzzleViewport','hintText','puzzle-wrapper','welcome-text','global-reset-btn','contains','puzzleWrapper','partId','finalMapViewport','zoom','min','22LVHXWW','zoomWithWheel','getElementById','feedbackToast','welcome-screen','getScale','questUi','dataset','947634YYFpuQ','5222Fpqsvo','includes','style','32193040aLILiY','puzzle-viewport','wheel','congrats-modal','opacity','119398kkPAgg','6071292mdgehf','progressIndicator','welcomeTitle','5840283OMWXlm','close-modal-btn','getBoundingClientRect','parentElement','hidden','welcome-title','masks','scanner-overlay','feedback-toast','width','congratsModal','scan-btn','10XPWIqc','finalMap','classList','congrats-text','add','2301172oIvoGb','hintModal','quest-ui','4248KkQGFw','screen'];_0x3ab1=function(){return _0x2dc793;};return _0x3ab1();}export function toggleActivePanzoomView(){const _0x5dc544=_0x4af0ac;let _0x3b4924,_0x3d1385,_0xd37b7;if(elements[_0x5dc544(0xe7)][_0x5dc544(0xd7)][_0x5dc544(0xec)](_0x5dc544(0xcd))?(_0x3b4924=finalMapPanzoom,_0x3d1385=elements[_0x5dc544(0xd6)],_0xd37b7=elements['finalMapViewport']):(_0x3b4924=puzzlePanzoom,_0x3d1385=elements['puzzleWrapper'],_0xd37b7=elements[_0x5dc544(0xe7)]),!_0x3b4924)return;const _0x2a4ee8=_0x3b4924[_0x5dc544(0xf7)](),_0x3d2397=_0xd37b7['getBoundingClientRect']()[_0x5dc544(0xd2)]/_0x3d1385[_0x5dc544(0xcb)]()[_0x5dc544(0xd2)];animateView(_0x3b4924,_0x3d1385,_0xd37b7,Math['abs'](_0x2a4ee8-_0x3d2397)<0.01?_0x5dc544(0xde):_0x5dc544(0xd2));}export function showWelcomeScreen(_0x9c120f,_0x4197d9){const _0x563f9b=_0x4af0ac;elements[_0x563f9b(0x106)][_0x563f9b(0xe5)]=_0x9c120f,elements['welcomeText']['textContent']=_0x4197d9,elements[_0x563f9b(0xe3)][_0x563f9b(0xd7)][_0x563f9b(0xdf)]('hidden');}export function hideWelcomeScreen(){const _0x1bd98c=_0x4af0ac;elements[_0x1bd98c(0xe3)][_0x1bd98c(0xd7)][_0x1bd98c(0xd9)]('hidden');}export function showQuestUI(){const _0x4a005d=_0x4af0ac;elements[_0x4a005d(0xf8)][_0x4a005d(0xd7)]['remove'](_0x4a005d(0xcd)),puzzlePanzoom||(puzzlePanzoom=initPanzoom(elements[_0x4a005d(0xed)],elements['puzzleViewport']));}export function updatePuzzleView(_0x516adc){const _0x405706=_0x4af0ac;elements[_0x405706(0xcf)]['forEach'](_0x859a08=>{const _0x4be47e=_0x405706,_0x4518e5=_0x859a08[_0x4be47e(0xf9)][_0x4be47e(0xee)];_0x859a08[_0x4be47e(0xfd)][_0x4be47e(0x102)]=_0x516adc[_0x4be47e(0xfc)](_0x4518e5)?'0':'1';});}export function updateProgressIndicator(_0x9c2a90,_0x12ca47){const _0x22fbca=_0x4af0ac;elements[_0x22fbca(0x105)][_0x22fbca(0xe5)]='Найдено:\x20'+_0x9c2a90+'\x20из\x20'+_0x12ca47;}export function showScanner(){const _0x4c783f=_0x4af0ac;elements['scannerOverlay'][_0x4c783f(0xd7)][_0x4c783f(0xdf)]('hidden');}export function hideScanner(){const _0x183ea2=_0x4af0ac;elements[_0x183ea2(0xe2)][_0x183ea2(0xd7)][_0x183ea2(0xd9)](_0x183ea2(0xcd));}export function showHint(_0x1772af){const _0x333295=_0x4af0ac;elements[_0x333295(0xe8)][_0x333295(0xe5)]=_0x1772af,elements['hintModal'][_0x333295(0xd7)][_0x333295(0xdf)](_0x333295(0xcd));}export function hideHint(){const _0x36cdf0=_0x4af0ac;elements[_0x36cdf0(0xdb)][_0x36cdf0(0xd7)][_0x36cdf0(0xd9)]('hidden');}export function showFeedbackToast(_0x241dee){const _0x363c62=_0x4af0ac;elements['feedbackToast'][_0x363c62(0xe5)]=_0x241dee,elements[_0x363c62(0xf5)]['classList'][_0x363c62(0xdf)](_0x363c62(0xcd)),setTimeout(()=>{const _0xdea23d=_0x363c62;elements[_0xdea23d(0xf5)][_0xdea23d(0xd7)]['add'](_0xdea23d(0xcd));},0x7d0);}function _0x1c02(_0xd73cc3,_0x50b620){const _0x3ab1a5=_0x3ab1();return _0x1c02=function(_0x1c02b6,_0x492a54){_0x1c02b6=_0x1c02b6-0xca;let _0x279ccd=_0x3ab1a5[_0x1c02b6];return _0x279ccd;},_0x1c02(_0xd73cc3,_0x50b620);}export function showFinalScreen(_0x8cf5e0){const _0x25ab42=_0x4af0ac;elements[_0x25ab42(0xe7)]['classList'][_0x25ab42(0xd9)](_0x25ab42(0xcd)),elements[_0x25ab42(0xef)]['classList'][_0x25ab42(0xdf)](_0x25ab42(0xcd)),finalMapPanzoom||(finalMapPanzoom=initPanzoom(elements[_0x25ab42(0xd6)],elements[_0x25ab42(0xef)])),showCongratsModal(_0x8cf5e0);}function showCongratsModal(_0x5cdaed){const _0x46bdb4=_0x4af0ac;elements['congratsText']['textContent']=_0x5cdaed,elements[_0x46bdb4(0xd3)][_0x46bdb4(0xd7)][_0x46bdb4(0xdf)](_0x46bdb4(0xcd)),setTimeout(()=>{const _0x9f327f=_0x46bdb4;elements['congratsModal']['classList']['add'](_0x9f327f(0xcd));},0xfa0);}export function showGlobalResetBtn(){const _0x59930e=_0x4af0ac;elements['globalResetBtn']['classList']['remove'](_0x59930e(0xcd));}export function hideGlobalResetBtn(){const _0x40e69b=_0x4af0ac;elements['globalResetBtn'][_0x40e69b(0xd7)][_0x40e69b(0xd9)](_0x40e69b(0xcd));}